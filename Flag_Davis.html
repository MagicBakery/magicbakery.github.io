<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>City Flag Evaluation Infographic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Light background */
            color: #1a202c; /* Dark text */
            line-height: 1.6;
            padding: 1rem;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-top: 2rem;
            margin-bottom: 2rem;
        }
        h1, h2, h3 {
            font-weight: 700;
            color: #2d3748; /* Slightly darker headings */
        }
        .flag-card {
            border: 1px solid #e2e8f0;
            border-radius: 1rem;
            overflow: hidden;
            background-color: #ffffff;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .flag-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        .flag-image-container {
            width: 100%;
            padding-top: 75%; /* 4:3 aspect ratio for images */
            position: relative;
            background-color: #f0f4f8; /* Placeholder background */
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .flag-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain; /* Ensures the entire image is visible */
            border-radius: 0.75rem; /* Rounded corners for the image itself */
            padding: 1rem; /* Padding inside the image container */
        }
        .score-bar-container {
            background-color: #e2e8f0;
            border-radius: 0.5rem;
            height: 1.25rem; /* Taller bars */
            overflow: hidden;
        }
        .score-bar {
            background-color: #4c51bf; /* Primary color for bars */
            height: 100%;
            border-radius: 0.5rem;
            transition: width 0.5s ease-out;
        }
        .star-rating .star {
            color: #f6ad55; /* Gold color for stars */
            font-size: 1.5rem; /* Larger stars */
        }
        .category-score {
            font-weight: 600;
            color: #2d3748;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
                margin-top: 1rem;
                margin-bottom: 1rem;
            }
            .flag-card {
                margin-bottom: 1.5rem;
            }
            .flag-image-container {
                padding-top: 100%; /* 1:1 aspect ratio on smaller screens */
            }
            .slide h2 {
                font-size: 1.75rem;
            }
            .slide p {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-4xl text-center mb-4">City Flag Evaluation Infographic</h1>
        <p class="text-center text-gray-600 text-sm mb-2">Last Updated: July 5, 2025, 4:36 PM PDT</p>
        <p class="text-center text-gray-600 text-sm mb-6">Note: All ratings and justifications in this document are generated by Gemini AI.</p>
        <p class="text-center text-gray-600 mb-10">Visualizing the strengths of hypothetical Davis city flag designs based on comprehensive evaluation criteria.</p>

        <div id="flag-comparison" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
            <!-- Flag Card Template -->
        </div>

        <div class="summary-section bg-blue-50 p-8 rounded-xl shadow-inner">
            <h2 class="text-3xl text-center mb-6">Summary: Why the Best Design Stands Out</h2>
            <p id="summary-text" class="text-lg text-gray-700 text-center leading-relaxed">
                The <strong>Flag_Davis_1_Cross_Spoke.png</strong> design is the strongest contender for a city flag for Davis, California, with the highest overall average score of <strong>4.52 Stars</strong>. This design takes the strong foundation of the 2017 winner and enhances it with more refined spoke lines, while maintaining excellent visual appeal and adherence to good flag design principles. It excels across all key evaluation areas: ideological acceptance, application versatility, demographic acceptance, local relevance, principles of good flag design, and customization potential.
            </p>
            <p class="text-center text-gray-700 mt-4">
                Details about the considerations can be found at this <a href="https://g.co/gemini/share/96102a85423c" target="_blank" class="text-blue-600 hover:underline font-semibold">Gemini Canvas</a>
            </p>
        </div>
    </div>

    <script>
        // Last Updated: July 5, 2025, 4:36 PM PDT

        // Define flag data with updated overall average scores
        const flagData = [
            {
                id: 'flag-logo',
                name: 'Unofficial Logo',
                description: 'If used as Hypothetical Flag',
                imageUrl: 'https://github.com/MagicBakery/Images/blob/main/Flag_Davis_Logo.png?raw=true',
                overallScore: 3.20,
                categoryScores: {
                    'Ideological Acceptance': 3.70,
                    'Application Versatility': 3.42,
                    'Demographic Acceptance': 3.81,
                    'Local Relevance (Davis, CA)': 3.36,
                    'Principles of Good Flag Design': 2.40,
                    'Customization': 2.50
                }
            },
            {
                id: 'flag-2017',
                name: '2017 Winner',
                description: '2017 Davis Flag Contest Winner',
                imageUrl: 'https://github.com/MagicBakery/Images/blob/main/Flag_Davis_2017.png?raw=true',
                overallScore: 4.45,
                categoryScores: {
                    'Ideological Acceptance': 4.20,
                    'Application Versatility': 4.75,
                    'Demographic Acceptance': 4.56,
                    'Local Relevance (Davis, CA)': 3.91,
                    'Principles of Good Flag Design': 4.80,
                    'Customization': 4.50
                }
            },
            {
                id: 'flag-cross-spoke',
                name: 'Cross Spoke B1',
                description: 'New 2025 Design',
                imageUrl: 'https://github.com/MagicBakery/Images/blob/main/Flag_Davis_1_Cross_Spoke.png?raw=true',
                overallScore: 4.52,
                categoryScores: {
                    'Ideological Acceptance': 4.30,
                    'Application Versatility': 4.79,
                    'Demographic Acceptance': 4.56,
                    'Local Relevance (Davis, CA)': 3.95,
                    'Principles of Good Flag Design': 5.00,
                    'Customization': 4.50
                }
            },
            {
                id: 'flag-b2',
                name: 'Cross Spoke B2',
                description: 'New 2025 Design',
                imageUrl: 'https://github.com/MagicBakery/Images/blob/main/Flag_Davis_B2.png?raw=true',
                overallScore: 4.49,
                categoryScores: {
                    'Ideological Acceptance': 4.30,
                    'Application Versatility': 4.79,
                    'Demographic Acceptance': 4.56,
                    'Local Relevance (Davis, CA)': 4.00,
                    'Principles of Good Flag Design': 4.80,
                    'Customization': 4.50
                }
            }
        ];

        const flagComparisonContainer = document.getElementById('flag-comparison');
        const summaryTextElement = document.getElementById('summary-text');

        /**
         * Generates the HTML for a single flag card.
         * @param {Object} flag - The flag data object.
         * @returns {string} The HTML string for the flag card.
         */
        function createFlagCard(flag) {
            let categoryScoresHtml = '';
            for (const category in flag.categoryScores) {
                const score = flag.categoryScores[category];
                const percentage = (score / 5) * 100; // Assuming max score is 5
                categoryScoresHtml += `
                    <div class="mb-2">
                        <p class="text-sm text-gray-600">${category}: <span class="category-score">${score.toFixed(2)} Stars</span></p>
                        <div class="score-bar-container">
                            <div class="score-bar" style="width: ${percentage}%;"></div>
                        </div>
                    </div>
                `;
            }

            const starRatingHtml = Array(5).fill(0).map((_, i) => `
                <span class="star">${i < Math.round(flag.overallScore) ? '★' : '☆'}</span>
            `).join('');

            return `
                <div id="${flag.id}" class="flag-card p-6 flex flex-col">
                    <h3 class="text-xl font-semibold mb-4 text-center">${flag.name.replace('.png', '')}</h3>
                    <p class="text-gray-500 text-sm mb-4 text-center">${flag.description}</p>
                    <div class="flag-image-container mb-4">
                        <img src="${flag.imageUrl}" alt="${flag.name}" class="flag-image" onerror="this.onerror=null;this.src='https://placehold.co/150x150/e2e8f0/4a5568?text=Image+Not+Found';">
                    </div>
                    <div class="flex items-center justify-center mb-4 star-rating">
                        ${starRatingHtml}
                        <span class="ml-2 text-xl font-bold text-gray-800">${flag.overallScore.toFixed(2)}</span>
                    </div>
                    <div class="flex-grow">
                        ${categoryScoresHtml}
                    </div>
                </div>
            `;
        }

        /**
         * Renders all flag cards into the container.
         */
        function renderFlagCards() {
            flagComparisonContainer.innerHTML = ''; // Clear previous content
            flagData.forEach(flag => {
                flagComparisonContainer.innerHTML += createFlagCard(flag);
            });
        }

        /**
         * Updates the summary text based on the highest-rated flag.
         */
        function updateSummary() {
            // Find the flag with the highest overall score
            const bestFlag = flagData.reduce((prev, current) => (prev.overallScore > current.overallScore) ? prev : current);

            summaryTextElement.innerHTML = `
                The <strong>${bestFlag.name.replace('.png', '')}</strong> design is the strongest contender for a city flag for Davis, California, with the highest overall average score of <strong>${bestFlag.overallScore.toFixed(2)} Stars</strong>. This design takes the strong foundation of the 2017 winner and enhances it with more refined spoke lines, while maintaining excellent visual appeal and adherence to good flag design principles. It excels across all key evaluation areas: ideological acceptance, application versatility, demographic acceptance, local relevance, principles of good flag design, and customization potential.
            `;
        }

        // Initial render
        document.addEventListener('DOMContentLoaded', () => {
            renderFlagCards();
            updateSummary();
        });
    </script>
</body>
</html>
